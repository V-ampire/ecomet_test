## Service 1

### Запустить сервис из директории service_1:
- Задать переменные окружения в `.env`
```
PROJECT_DIR=
POSTGRES_USER=
POSTGRES_PASSWORD=
POSTGRES_DATABASE=
```

- Выполнить `make build ; make up`

### Примечание
Т.к. сервис содержит только один ендпоинт с версией и по заданию нужно только доработать зависимость 
я не стал выносить инииализацию app и обработчики в отдельные модули, хотя при добавлении эндпоинтов по своему опыту
считаю целесобразным отсавить в main только вызов фабричной функции и настройку экземпляра приложения.

Использовал докер чтобы не разворачивать базу данных.

Результат:

![result.png](service_1/result.png)


## Service 2

### Запустить сервис из директории service_1:
- Задать переменные окружения в `.env`
```
GITHUB_ACCESS_TOKEN=
```

- Выполнить `make build ; make up`

### Примечание
Повзолил себе отрефакторить ваш GithubReposScrapper, т.к. на мой вкус он в своей начальной версии нарушает 
"принцип единой ответственности" - помимо парсинга берет на себя инициализацию и управление жизненым циклом http сессии. 
Кроме того, по моему опыту сессию лучше вообще делать синглтоном по всему приложению, т.к. она внутри может создавать
пул соединений и в этом случае мы можем переиспользовать соединения по всему приложению не только для одного класса скраппера.

Также заголовки авторизации мне кажется лучше передавать для каждого запроса отдельно, 
это будет удобнее если понадобится использовать ротацию токенов.

По лимитам взял лимит для авторизованных токенов 5000/3600 ~1.38 запроса в сек, 
у меня в среднем один запрос занимал 0.5-0.8 сек поэтому с учетом того что мы делаем запрос к одному хосту выставил 
MCR_LIMIT=5.

Использовал доп. библиотеки:
- pydantic-settings - для управлением настройками
- tenacity для ретраев
- aiolimiter - для управления рейт-лимитами
- 
Результат:

![result.png](service_2/result.png)